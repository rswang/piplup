// preset form values if we receive a userdata object //
- user = typeof(udata) != 'undefined' ? udata : { }
// store the userId on the client side in a hidden input field //
input(type='hidden', value= user._id)#userId

#menu-form-container
    form( method="post")#menu-form.form-horizontal.well.span6
        h1
        p#sub1.subheading Please tell us a little about your restaurant.
        hr
        fieldset
            #dish-cg.control-group
                label.control-label(for='dish-tf') Dish Name
                .controls
                    input#name-tf.input-xlarge(type='text', name='dish', value= user.dish)
            #type-cg.control-group
                label.control-label(for='dish-list') Dish Type
                .controls
                    select#dish-list(name='type')
                        each type in dishes
                            option(selected=type.name == user.type)= type.name
            #tags-cg.control-group
                label.control-label(for='tags-tf') Tags
                .controls
                    input#tags-tf.input-xlarge(type='text', name='tags', value= user.tags)
            hr
            .form-actions
                button(type='submit' )#menu-form-btn2.btn Submit
    form( method="post", action="/uploadimg", enctype="multipart/form-data")
        input(type="file", name="image")
            .form-actions
                button(type='submit')#menu-form-btn2.btn

// display form errors in a custom modal window //

include modals/form-errors
